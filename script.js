// –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç—ã
const changingText = document.getElementById('changing-text');
const mainContainer = document.getElementById('main-container');
const buttons = document.querySelectorAll('.action-button');
const mainGif = document.getElementById('main-gif');

const messages = [
    "–≤–æ—Ç –ø—Ä—è–º —Å—ñ–ª—å–Ω–∞ –¥–∞?",
    "–ø—Ä—è–º –æ—á—î–Ω—å–æ—á—î–Ω—å–æ—á—î–Ω—å —Å—ñ–ª—å–Ω–∞?",
    "–Ω—É –≤–æ—Ç –ø—Ä—è–º –ö–ê–ü–Ñ–Ñ–Ñ–Ñ–Ñ–Ñ–Ñ–Ñ–Ñ–¶ –∫–∞–∫ —Å—ñ–ª—å–Ω–∞?",
    "–ø—Ä–∞–≤–¥–∞ —Å—ñ–ª—å–Ω–∞?..."
];

let currentStep = 0;
let currentFontSize = 18; // –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç CSS)

function handleButtonClick() {
    if (currentStep < messages.length) {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç
        changingText.textContent = messages[currentStep];

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ—Å–ª–µ–¥–Ω—è—è –ª–∏ —ç—Ç–æ —Ñ—Ä–∞–∑–∞
        if (currentStep === messages.length - 1) {
            // –ù–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ñ—Ä–∞–∑–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–∑–º–µ—Ä "–∫–∞–∫ –≤ –Ω–∞—á–∞–ª–µ"
            currentFontSize = 18;
            changingText.style.fontSize = currentFontSize + "px";
            
            // –ò –º–µ–Ω—è–µ–º –≥–∏—Ñ–∫—É
            if (mainGif) {
                mainGif.src = 'image2.gif';
            }
        } else {
            // –ï—Å–ª–∏ —Ñ—Ä–∞–∑–∞ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à—Ä–∏—Ñ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 10 –ø–∏–∫—Å–µ–ª–µ–π)
            currentFontSize += 7;
            changingText.style.fontSize = currentFontSize + "px";
        }

        currentStep++;
    } else {
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–∏–Ω–∞–ª—É
        showFinalContent();
    }
}

function showFinalContent() {
    // –û—á–∏—â–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∏—Å—å–º–∞
    mainContainer.innerHTML = `
        <div class="letter-container">
            <div class="letter">
                <h1 style="font-size: 22px; margin-bottom: 15px;">–°–æ–Ω–µ—á–∫–æ –º–æ—î...</h1>
                <p>–ó–¥–∞–≤–∞–ª–æ—Å—å –±–∏, –æ—Å—å —Ç—ñ–ª—å–∫–∏ —Ç—ñ–ª—å–∫–∏ –±—É–ª–æ –ø—ñ–≤—Ä–æ–∫—É —è–∫ –º–∏ –¥–æ–≤—ñ—Ä–∏–ª–∏—Å—å –æ–¥–Ω–µ –æ–¥–Ω–æ–º—É, –∞ –≤–∂–µ —ñ —â–µ –¥–≤–∞ –º—ñ—Å—è—Ü—ñ –ø—Ä–æ–ª–µ—Ç—ñ–ª–æ...</p>
                <p>–î—è–∫—É—é —Ç–æ–±—ñ –∑–∞ –≤–µ—Å—å —Ü–µ–π —à–ª—è—Ö —â–æ –ø—Ä–æ—Ö–æ–¥–∏–º–æ —Ä–∞–∑–æ–º –∫–æ—Ç—å. –î—è–∫—É—é –∑–∞ —Ç–µ —â–æ –∑–∞–ª–∏—à–∞—î—à—Å—è –ø–æ—Ä—É—á. –ù–µ —Ö–æ—á—É —É—è–≤–ª—è—Ç–∏ —Å–≤–æ—î –∂–∏—Ç—Ç—è –ø–æ —ñ–Ω—à–æ–º—É, —É–∂ —Å–ª—ñ—à–∫–æ–º –º–Ω–æ–≥–æ —É –º—î–Ω—è –Ω–∞ —Ç—î–±—è –ø–ª–∞–Ω–æ–≤ :3. –ì–æ–ª–æ–≤–Ω–µ –ø—Ä–æ–π—Ç–∏ –≤—Å–µ, —â–æ —î –∑–∞—Ä–∞–∑ –∫–æ—Ç—å, —ñ —è –≤–ø–µ–≤–Ω–µ–Ω–∏–π —â–æ –≤–ø–æ—Ä–∞—î—à—Å—è –∑ —É—Å—ñ–º, –∞ —è —è–∫ —ñ —Ä–∞–Ω—ñ—à–µ —Å—Ç–∞—Ä–∞—Ç–∏–º—É—Å—å –±—É—Ç–∏ –ø–æ—Ä—É—á —Å–æ–Ω–µ—á–∫–æ.<p>
                <p>–Ø —Å–ø—Ä–∞–≤–¥—ñ –±–∞—á—É —Å–∫—ñ–ª—å–∫–∏ –≤—Å—å–æ–≥–æ —Ä–æ–±–∏—à, —ñ —è–∫ —Å—Ç–∞—Ä–∞—î—à—Å—è —Å–æ–Ω–µ—á–∫–æ. –¢–∏ —Å–ø—Ä–∞–≤–¥—ñ –º–æ–ª–æ–¥–µ—Ü—å, —ñ —Ü–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –Ω–µ —Ç—ñ–ª—å–∫–∏ "–Ω–∞—Å"...</p>
                <p>–ù–µ –∑–≤–µ—Ä—Ç–∞–π —É–≤–∞–≥–∏ –Ω–∞ —Ü—ñ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É, –∑–≤–∏—á–∞–π–Ω–æ —è –∑–Ω–∞—é —ñ –≤—ñ–¥—á—É–≤–∞—é —â–æ –ª—é–±–∏—à –º–µ–Ω–µ, –±–∞—á—É –Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Å–∏–ª—å–Ω–æ, —ñ —Ç–∞–∫ —Å–∞–º–æ –ª—é–±–ª—é —Ç–µ–±–µ –º–∏—à–æ–Ω–æ–∫, –∫–ª—è–Ω—É—Å—åüíó<p>
                <p style="margin-top: 20px; font-style: italic;">‚Äî —Ç–≤—ñ–π –∫–æ—Ç–∏–∫</p>
                
                <img src="image2.gif" style="width: 50px; margin-top: 15px; border-radius: 5px;">
            </div>
        </div>
    `;
    
    // –ü–æ –∂–µ–ª–∞–Ω–∏—é: –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å —Ñ–æ–Ω —É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, 
    // —á—Ç–æ–±—ã –ø–∏—Å—å–º–æ "–ª–µ—Ç–µ–ª–æ" –ø—Ä–æ—Å—Ç–æ –ø–æ —ç–∫—Ä–∞–Ω—É
    mainContainer.style.background = "none";
    mainContainer.style.boxShadow = "none";
}

buttons.forEach(button => {
    button.addEventListener('click', handleButtonClick);
});